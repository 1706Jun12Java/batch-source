<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>DOM</title>
</head>
<body>
	<div>
		<div>
			<h3>
				Sum: <span id="sum"></span>
			</h3>
			<h5 id="currentTime"></h5>
		</div>
		<div>
			<h1>
				United <span data-customAttr="USA">States</span> of America (<span>USA</span>)
			</h1>
			<div>
				<a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click
					Here</a>
			</div>
			<a>Click Here</a> <a>Click <span>Here1</span></a> <a>Click Here</a>
			<div>
				<select name="colors">
					<option value="green">Green</option>
					<option value="blue">Blue</option>
					<option value="red" selected="selected">Red</option>
					<option value="purple">Purple</option>
					<option value="yellow" selected="selected">Yellow</option>
				</select>
			</div>
		</div>
		<p id="helloWorld">Hello, World!</p>
		<div>
			<table>
				<tr>
					<th>Name</th>
					<th>Department</th>
				</tr>
				<tr>
					<td class="empName">John</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Amy</td>
					<td>Finance</td>
				</tr>
				<tr>
					<td class="empName">Austin</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Katie</td>
					<td>Marketing</td>
				</tr>
				<tr>
					<td class="empName" data-customAttr="court">Courtney</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Scout</td>
					<td>Sales</td>
				</tr>
			</table>
		</div>
		<form id="firstForm">
			<a>Click <span>Here2</span></a> <input type="text"
				data-customAttr="7" /><br /> <input type="text" data-customAttr="24" /><br />
			<input type="radio" name="favoriteAnimal" value="dog" />Dog<br /> <input
				type="radio" name="favoriteColor" value="blue" />Blue<br /> <input
				id="num1" class="nums" type="text" /><br /> <input type="radio"
				name="favoriteAnimal" value="cat" />Cat<br /> <input type="radio"
				name="favoriteColor" value="red" />Red<br /> <input type="radio"
				name="favoriteAnimal" value="horse" />Horse<br /> <input
				type="radio" name="favoriteAnimal" value="dolphin" />Dolphin<br /> <a>Click
				<span>Here</span>
			</a><br /> <input type="radio" name="favoriteAnimal" value="eagle" />Eagle<br />
			<input type="radio" name="favoriteColor" value="green"/>Green<br />
			<input type="radio" name="favoriteColor" value="orange" />Orange<br />
			<select name="hobbies">
				<option value="photography">Photography</option>
				<option value="football" selected="selected">Football</option>
				<option value="kayaking" selected="selected">Kayaking</option>
				<option value="hiking">Hiking</option>
				<option value="programming" selected="selected">Programming</option>
			</select> <input id="num2" class="nums" type="text" /> <select name="skills">
				<option value="java">Java</option>
				<option value="net">.NET</option>
				<option value="dom" selected="selected">DOM</option>
				<option value="html">HTML</option>
				<option value="css">CSS</option>
				<option value="javascript" selected="selected">Javascript</option>
			</select>
		</form>
	</div>
	<a>Click Here</a>
	<a>Click <span data-customAttr="500">Here3</span></a>
	<a>Click Here</a>
	<script type="text/javascript">
		//TODO: Javascript homework
		//1. USA
		// Define function getUSA()
		// Find the html element that contains "USA".
		// Print that element's contents.
			function getUSA(){
					var text = "USA";
					var tags = document.body.getElementsByTagName("*");
					for(var i=0;i<tags.length;i++){
						if(tags[i].textContent==text){
							console.log(tags[i].outerHTML);
						}
					}
			};
			getUSA();

			// 2. Sales
			// Define function getPeopleInSales()
			// Print the names of all the people in the sales department.
			function getPeopleInSales(){
				var tags = document.body.getElementsByTagName("*");
				for(var i=0; i<tags.length; i++){
					if(tags[i].textContent=="Sales"){
						console.log(tags[i].previousElementSibling.innerHTML);
					}
				}
			};
			getPeopleInSales();


			//3. Click Here
			// Define function getAnchorChildren()
			// Find all anchor elements with a <span> child.
			// Print the contents of <span>
			function getAnchorChildren(){
				var tags = document.body.getElementsByTagName('span');
				for(var i=0; i<tags.length; i++){;
					if(tags[i].parentNode.tagName.toLowerCase()=='a')
						console.log(tags[i].innerHTML);
				}
			}
			getAnchorChildren();


			// 4. Hobbies
			// Define function
			// Find all checked options in the 'skills' select element.
			// Print the value and the contents.
			function getSelectedSkills(){
				var tag = document.getElementsByName('skills')[0];
						var selected = tag.selectedOptions;
						for(var j=0;j<selected.length;j++){
							console.log(selected[j].value, selected[j].innerHTML);
						}
			}
			getSelectedSkills();


			// 5. Custom Attribute
			// Define function getCustomAttribute()
			// Find all elements with "data-customAttr" attribute
			// Print the value of the attribute.
			// Print the element that has the attribute.
			function getCustomAttribute(){
				var tags = document.getElementsByTagName('*');
				for(var i=0;i<tags.length;i++){
					if(tags[i].getAttribute('data-customAttr')!=null){
						console.log(tags[i].getAttribute('data-customAttr'), tags[i]);
					}
				}
			}
			getCustomAttribute();


			// 6. Sum Event
			// NOTE: Write unobtrusive Javascript
			// Regarding these elements:
			// <input id="num1" class="nums" type="text"/>
			// <input id="num2" class="nums" type="text"/>
			// <h3>Sum: <span id="sum"></span></h3>

			// Define onchange event handler.
			// Add <input> element values.
			// Put the sum in the <span> element.
			// If values cannot be added, put "Cannot add" in the <span> element

			function oninput(){
				try{
					var num1 = parseFloat(document.getElementById('num1').value);
					var num2 = parseFloat(document.getElementById('num2').value);
					document.getElementById("sum").innerHTML = num1+num2;
				}catch(err){
					document.getElementById("sum").innerHTML = 'Cannot add';
				}
			};
			document.getElementById("num1").onchange = oninput;
			document.getElementById("num2").onchange = oninput;


		// 7. Skills Event
		// NOTE: Write unobtrusive Javascript
		// When user selects a skill, create an alert with a message similar to:
		// "Are you sure CSS is one of your skills?"
		// NOTE: no alert should appear when user deselects a skill.
		var skills = document.getElementsByName('skills')[0];
		skills.onchange = function() {
			var skill = skills.selectedOptions[0];
			alert('Are you sure ' + skill.innerHTML + " is one of your skills?");
		};


		// 8. Favorite Color Event
		// NOTE: Write unobtrusive Javascript
		// NOTE: This is regarding the favoriteColor radio buttons.
		// When a user selects a color, create an alert with a message similar to:
		// "So you like green more than blue now?"
		// In this example, green is the new value and blue is the old value.
		// Make the background color (of all favoriteColor radio buttons)
		// the newly selected favoriteColor

		var color = 'white';
		var colors = document.getElementsByName('favoriteColor');
		for(var i=0;i<colors.length;i++){
			colors[i].addEventListener('click', changecolor);
		};

		function changecolor(){
			alert("So you like "+ this.value + " more than " + color + " now?");
			color = this.value;
			document.getElementById('firstForm').style.backgroundColor = color;
		};


		// 9. Show/Hide Event
		// NOTE: Write unobtrusive Javascript
		// When user hovers over an employees name:
		// Hide the name if shown.
		// 	Show the name if hidden.

		//mouseover on "name" to show names;
		var ths = document.getElementsByTagName('th');
		ths[0].addEventListener('mouseover', show);

		var names = document.getElementsByClassName('empName');
		var sibs = document.getElementsByClassName('empName').siblings;

		for(var i = 0; i < names.length; i++){
			names[i].addEventListener('mouseover', hide);
		};
		function hide(){
	        this.style.display = 'none';
		};
		function show(){
				for(var i=0;i<names.length;i++){
					names[i].style.display = 'block';
				}
		};

	// 		10. Current Time
	// Regarding this element:
	// 	<h5 id="currentTime"></h5>
	// Show the current time in this element in this format: 9:05:23 AM
	// The time should be accurate to the second without having to reload the page.

	function clock(){
		var t = new Date();
		var h = t.getHours();
		var m = t.getMinutes();
		var s = t.getSeconds();
		document.getElementById("currentTime").innerHTML = h%12 + ":" + m + ":" + s + " "+ checkTime(h);
		var t = setTimeout(function(){ clock() }, 1000);
	}

	function checkTime(t){
		if(t<12){
			return 'AM';
		}else{
			return 'PM';
		}
	}

	document.getElementById("currentTime").addEventListener('load', clock());


	// 11. Delay
	// Regarding this element:
	// <p id="helloWorld">Hello, World!</p>
	// Three seconds after a user clicks on this element, change the text to a random color.
	function randomColor(){
		var letters = '0123456789ABCDEF';
	  var color = '#';
	  for (var i = 0; i < 6; i++) {
	    color += letters[Math.floor(Math.random() * 16)];
	  }
		setTimeout(function(){document.getElementById("helloWorld").style.color = color;},3000);
	};

	document.getElementById("helloWorld").addEventListener('click', randomColor);


	// 12. Walk the DOM
	// Define function walkTheDOM(node, func)
	// This function should traverse every node in the DOM.
	// Use recursion.
	// On each node, call func(node).
	function walkTheDOM(node, func){
		var children = node.childNodes;
		for(var i=0; i<children.length; i++){
			walkTheDOM(children[i],func);
		}
		func(node);
	}
	// function testFunction(node){
	// 	console.log(node);
	// };
	// walkTheDOM(document.body, testFunction);

	</script>
</body>
</html>
